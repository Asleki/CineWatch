<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CineWatch - Cinema Guide</title>
  
  <!-- Font Awesome CDN for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <!-- Inter Font (for consistent typography across the site) -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles/cinema_guide.css">  
</head>
<body>

  <!-- Initial Loading Screen -->
  <div id="loadingScreen">
    <div class="loading-text">Preparing Your Watch Experience</div>
    <div class="loading-dots">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </div>

  <!-- Utility Header (Fixed/Sticky - contains Logo and Icons) -->
  <header id="utilityHeader">
    <div class="logo"><a href="cinewatch_home.html">CineWatch</a></div>
    <div class="header-icons">
      <i id="searchIcon" class="fas fa-search" title="Search"></i>
      <i id="addIcon" class="fas fa-plus-circle" title="Add to Watchlist"></i>
      <i id="accountIcon" class="fas fa-user-circle" title="Account"></i>
      <i id="darkModeToggle" class="fas fa-moon" title="Toggle Dark Mode"></i>
      <i id="hamburgerMenu" class="fas fa-bars" title="Menu"></i>
    </div>
  </header>

  <!-- Search Subheader (Initially hidden, slides down on search icon click) -->
  <div id="searchSubheader" class="search-subheader">
    <div class="search-bar-container">
      <input type="text" id="searchInput" placeholder="Search movies, series, genres..." autocomplete="off">
      <button id="clearSearch" class="clear-search-btn" title="Clear search"><i class="fas fa-times"></i></button>
    </div>
    <div id="suggestionsBox" class="suggestions-box">
      <!-- Search suggestions will be rendered here by JavaScript -->
    </div>
  </div>

  <!-- Account Dropdown (Hidden by default, appears on account icon click) -->
  <div id="accountDropdown" class="account-dropdown">
    <a href="login.html" id="loginLink">Login</a>
    <a href="signup.html" id="registerLink">Register</a>
    <a href="profile.html" id="profileLink" style="display:none;"><i class="fas fa-user"></i> Profile</a>
    <a href="#" id="playlistLink" class="account-item"><i class="fas fa-list-ul"></i> Playlist</a>
    <a href="#" id="bookmarksLink" class="account-item"><i class="fas fa-bookmark"></i> Bookmarks</a>
    <a href="#" id="favoritesLink" class="account-item"><i class="fas fa-heart"></i> Favorites</a>
    <a href="settings.html" id="settingsLink" class="account-item"><i class="fas fa-cog"></i> Settings</a>
    <a href="#" id="logoutLink" style="display:none;" class="account-item logout-item"><i class="fas fa-sign-out-alt"></i> Logout</a>
  </div>

  <!-- Main Subheader (Contains Nav Links and Tagline, Scrolls with page) -->
  <div id="mainSubheader" class="main-subheader">
    <p class="site-tagline">Stream, Discover, Repeat</p>
    <nav class="main-nav">
      <ul>
        <li><a href="movies.html">Movies</a></li>
        <li><a href="tv_shows.html">TV Shows</a></li>
        <li><a href="cinema_guide.html" class="active">Cinema Guide</a></li>
        <li><a href="about_us.html">About Us</a></li>
      </ul>
    </nav>
  </div>

  <!-- Mobile Navigation Overlay (Hidden by default, appears on hamburger click) -->
  <div id="mobileNavOverlay" class="mobile-nav-overlay">
    <div class="mobile-nav-content">
      <i id="closeMobileNav" class="fas fa-times close-btn"></i>
      <a href="cinewatch_home.html">Home</a>
      <a href="movies.html">Movies</a>
      <a href="tv_shows.html">TV Shows</a>
      <a href="cinema_guide.html" class="active">Cinema Guide</a>
      <a href="about_us.html">About Us</a>
      <a href="profile.html" id="mobileProfileLink" style="display:none;"><i class="fas fa-user"></i> Profile</a>
      <a href="#" class="mobile-login-btn" id="mobileLoginLink">Login / Register</a>
      <a href="#" class="mobile-logout-btn" id="mobileLogoutLink" style="display:none;">Logout</a>
    </div>
  </div>

  <main class="cinema-guide-main">
    <!-- Hero Section for Cinema Guide -->
    <section id="cinemaHero" class="hero-section-cinema">
        <div class="hero-content-cinema">
            <h1 class="hero-text-cinema">Showing in cinema Now</h1>
        </div>
    </section>

    <h1 class="page-title">Find Shows Near You</h1>

    <!-- City Filter -->
    <div class="city-filter">
        <label for="citySelect">Select City:</label>
        <select id="citySelect">
            <option value="all">All Cities</option>
            <option value="Nairobi">Nairobi</option>
            <option value="Kisumu">Kisumu</option>
            <option value="Mombasa">Mombasa</option>
            <option value="Eldoret">Eldoret</option>
            <option value="Nakuru">Nakuru</option>
        </select>
    </div>

    <!-- Cinema Halls Container -->
    <div id="cinemaHallsContainer" class="city-cinema-halls-container">
        <!-- Cinema halls and their shows will be dynamically loaded here -->
    </div>
  </main>

<!-- Site Footer (Unified Structure) -->
  <footer class="site-footer">
      <div class="footer-content">
          <div class="footer-section about">
              <h3>CineWatch</h3>
              <p>Your ultimate destination for movies and TV shows.</p>
          </div>
          <div class="footer-section quick-links">
              <h3>Quick Links</h3>
              <ul>
                  <li><a href="cinewatch_home.html">Home</a></li>
                  <li><a href="movies.html">Movies</a></li>
                  <li><a href="tv_shows.html">TV Shows</a></li>
                  <li><a href="cinema_guide.html">Cinema Guide</a></li>
              </ul>
          </div>
          <div class="footer-section developer-info">
              <h3>Developer</h3>
              <ul>
                  <li><a href="developer.html">About Alex Malunda</a></li>
                  <li><a href="https://github.com/Asleki" target="_blank" rel="noopener noreferrer">My GitHub</a></li>
              </ul>
          </div>
          <div class="footer-section legal-links">
              <h3>Legal</h3>
              <ul>
                  <li><a href="privacy_policy.html">Privacy Policy</a></li>
                  <li><a href="termsof_services.html">Terms of Service</a></li>
                  <li><a href="copyright_information.html">Copyright Information</a></li>
                  <li><a href="faqs.html">FAQs</a></li>
                  <li><a href="contact_us.html">Contact Us</a></li>
              </ul>
          </div>
          <div class="footer-section contact-social">
              <h3>Connect With Me</h3>
              <p>Email: <a href="mailto:alexmalunda@aol.com">alexmalunda@aol.com</a></p>
              <p>Last Modified: <span id="last-modified"></span></p>
              <div class="social-icons">
                <a href="https://www.instagram.com/yourprofile" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
                      <img src="images/icons&logos/instagram_24dp.svg" alt="Instagram" onerror="this.onerror=null;this.src='https://placehold.co/30x30/000080/FFFFFF?text=Insta';">
                  </a>
                <a href="https://www.facebook.com/aslekiymastamynd" target="_blank" rel="noopener noreferrer" aria-label="Facebook">
                    <img src="images/icons&logos/facebook_24dp.svg" alt="Facebook" onerror="this.onerror=null;this.src='https://placehold.co/30x30/000080/FFFFFF?text=FB';">
                </a>
                <a href="https://www.linkedin.com/in/alexmalunda" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn">
                    <img src="images/icons&logos/linkedin_24dp.svg" alt="LinkedIn" onerror="this.onerror=null;this.src='https://placehold.co/30x30/000080/FFFFFF?text=LI';">
                </a>
                <a href="https://x.com/yourhandle" target="_blank" rel="noopener noreferrer" aria-label="X (formerly Twitter)">
                    <img src="images/icons&logos/twitter_24dp.svg" alt="X (formerly Twitter)" onerror="this.onerror=null;this.src='https://placehold.co/30x30/000080/FFFFFF?text=X';">
                </a>
              </div>
          </div>
      </div>
  </footer>

  <!-- Custom Alert/Message Box (controlled by showMessageBox function in JS) -->
  <div id="customAlert" class="custom-alert-overlay">
    <div class="alert-content">
        <i class="fas fa-info-circle alert-icon blue-icon"></i>
        <p id="alertMessage">This is a custom message.</p>
        <button id="closeAlertBtn" class="close-alert-btn">OK</button>
    </div>
  </div>

  <!-- Booking Modal (Multi-step form) -->
  <div id="bookingModal" class="custom-alert-overlay">
    <div class="booking-content">
      <div class="booking-header">
        <h2 id="modalTitle">Book Your Tickets</h2>
        <button class="close-modal-btn" id="closeBookingModal">&times;</button>
      </div>
      <div class="stepper-progress">
        <div class="step-item active" data-step="0">
          <span class="step-circle">1</span>
          <span class="step-name">Details</span>
        </div>
        <div class="step-item" data-step="1">
          <span class="step-circle">2</span>
          <span class="step-name">Seats</span>
        </div>
        <div class="step-item" data-step="2">
          <span class="step-circle">3</span>
          <span class="step-name">Snacks</span>
        </div>
        <div class="step-item" data-step="3">
          <span class="step-circle">4</span>
          <span class="step-name">Cab</span>
        </div>
        <div class="step-item" data-step="4">
          <span class="step-circle">5</span>
          <span class="step-name">Summary</span>
        </div>
        <div class="step-item" data-step="5">
          <span class="step-circle">6</span>
          <span class="step-name">Payment</span>
        </div>
      </div>

      <div class="step-content">
        <!-- Step 0: Show Details Confirmation -->
        <div id="step0-show-details" class="booking-step active">
            <h3 style="text-align: center; color: var(--text); margin-bottom: 20px;">Confirm Your Selection</h3>
            <div class="show-details-summary">
                <img id="summaryShowPoster" src="" alt="Show Poster">
                <div class="show-info-summary">
                    <h3 id="summaryShowTitle"></h3>
                    <p class="meta-info">
                        <span id="summaryShowGenre"></span> | 
                        <span id="summaryShowYear"></span> | 
                        <span id="summaryShowRating"></span>
                    </p>
                    <p id="summaryShowDescription"></p>
                    <h4>Main Cast:</h4>
                    <p class="cast-list-summary" id="summaryShowCast"></p>
                </div>
            </div>
            <button class="proceed-to-purchase-btn" id="proceedToPurchase">Proceed to Purchase Ticket</button>
        </div>

        <!-- Step 1: Seat Selection -->
        <div id="step1-seat-selection" class="booking-step" style="display:none;">
            <div id="priceDisplay">Total Price: KES 0.00</div>
            <div class="seat-selection-container">
                <div class="screen-indicator"></div>
                <div id="seatsGrid" class="seats-grid">
                    <!-- Seats will be generated here -->
                </div>
                <div class="legend">
                    <div class="legend-item"><span class="legend-color legend-available"></span> Available</div>
                    <div class="legend-item"><span class="legend-color legend-occupied"></span> Occupied</div>
                    <div class="legend-item"><span class="legend-color legend-selected"></span> Selected</div>
                </div>
            </div>
            <div class="stepper-navigation center">
                <button class="stepper-btn primary" id="nextStep1" disabled>Proceed to Next</button>
            </div>
        </div>

        <!-- Step 2: Snacks -->
        <div id="step2-snacks" class="booking-step" style="display:none;">
            <h3 style="text-align: center; color: var(--text); margin-bottom: 20px;">Choose Your Snacks (Optional)</h3>
            <div class="snacks-options">
                <input type="radio" id="yesSnacks" name="snackSelectionOption" value="yes">
                <label for="yesSnacks">Yes, I want snacks</label>
                <input type="radio" id="noSnacks" name="snackSelectionOption" value="no" checked>
                <label for="noSnacks">No thanks, I don't want snacks</label>
            </div>
            <div class="snacks-container" id="snacksContainer">
                <!-- Snacks will be generated here -->
            </div>
            <div class="stepper-navigation">
                <button class="stepper-btn secondary" id="prevStep2">Back</button>
                <button class="stepper-btn primary" id="nextStep2">Proceed to Next</button>
            </div>
        </div>

        <!-- Step 3: Cab Service -->
        <div id="step3-cab-service" class="booking-step" style="display:none;">
            <h3 style="text-align: center; color: var(--text); margin-bottom: 20px;">Book a Cab (Optional)</h3>
            <div class="cab-service-options">
                <div class="cab-service-toggle">
                    <input type="radio" id="noCabService" name="cabOption" value="none" checked>
                    <label for="noCabService">No, I don't need a cab service</label>
                    <input type="radio" id="yesCabService" name="cabOption" value="yes">
                    <label for="yesCabService">Yes, I need a cab service</label>
                </div>

                <div id="cabDetails" style="display: none;">
                    <div class="address-input-group">
                        <input type="radio" id="pickupHome" name="pickupType" value="home" checked>
                        <label for="pickupHome">Pick up from my Home Address</label>
                        <input type="text" id="homeAddressInput" placeholder="Enter your home address" required>
                    </div>

                    <div class="address-input-group">
                        <input type="radio" id="pickupCabStand" name="pickupType" value="cab_stand">
                        <label for="pickupCabStand">Pick up from a Cab Stand</label>
                        <select id="cabStandSelect" disabled>
                            <option value="">Select a cab stand</option>
                            <!-- Cab stands dynamically loaded -->
                        </select>
                    </div>
                </div>
            </div>
            <div class="stepper-navigation">
                <button class="stepper-btn secondary" id="prevStep3">Back</button>
                <button class="stepper-btn primary" id="nextStep3">Proceed to Next</button>
            </div>
        </div>

        <!-- Step 4: Summary -->
        <div id="step4-summary" class="booking-step" style="display:none;">
            <h3 style="text-align: center; color: var(--text); margin-bottom: 20px;">Order Summary</h3>
            <div class="summary-details">
                <p><strong>Show:</strong> <span id="summaryShowName"></span></p>
                <p><strong>Cinema Hall:</strong> <span id="summaryCinemaHall"></span></p>
                <p><strong>City:</strong> <span id="summaryCity"></span></p>
                <p><strong>Seat:</strong> <span id="summarySeat"></span></p>
                <p><strong>Snacks:</strong> <span id="summarySnacks"></span></p>
                <p><strong>Cab Service:</strong> <span id="summaryCabService"></span></p>
                <p class="total-price-summary">Total Payable: KES <span id="summaryTotalPrice">0.00</span></p>
            </div>
            <div class="stepper-navigation">
                <button class="stepper-btn secondary" id="prevStep4">Back</button>
                <button class="stepper-btn primary" id="nextStep4">Proceed to Payment</button>
            </div>
        </div>

        <!-- Step 5: Payment -->
        <div id="step5-payment" class="booking-step" style="display:none;">
            <h3 style="text-align: center; color: var(--text); margin-bottom: 20px;">Select Payment Method</h3>
            <div class="payment-methods">
                <div class="payment-method-item" data-method="mpesa">
                    <img src="images/icons&logos/mpesa.svg" alt="M-Pesa" class="mpesa-icon">
                    <span>M-Pesa</span>
                </div>
                <div class="payment-method-item" data-method="card">
                    <img src="images/icons&logos/card.svg" alt="Card" class="card-icon">
                    <span>Card</span>
                </div>
                <div class="payment-method-item" data-method="paypal">
                    <img src="images/icons&logos/paypal.svg" alt="PayPal" class="paypal-icon">
                    <span>PayPal</span>
                </div>
                <div class="payment-method-item" data-method="crypto">
                    <img src="images/icons&logos/crypto.svg" alt="Crypto" class="crypto-icon">
                    <span>Crypto</span>
                </div>
            </div>
            <div class="stepper-navigation center">
                <button class="stepper-btn secondary" id="prevStep5">Back</button>
                <button class="confirm-payment-btn" id="confirmPaymentBtn" disabled>Confirm Payment</button>
            </div>
        </div>
      </div>
    </div>
  </div>

    <script src="scripts/cinema_guide.js"></script>
</body>
</html>
